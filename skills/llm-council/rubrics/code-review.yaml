# LLM Council - Code Review Rubric
# Override-only format extending default rubric

id: code-review
version: "2.0"
extends: default
description: Evaluation rubric for code review tasks with security focus.

# Only weights that differ from default (default: accuracy:30, verifiability:15, completeness:20, clarity:15, actionability:10, relevance:10)
dimension_overrides:
  accuracy: 25        # Code correctness (default: 30)
  verifiability: 10   # Can issues be reproduced? (default: 15)
  completeness: 15    # Coverage of code aspects (default: 20)
  clarity: 10         # Clear explanation of issues (default: 15)
  actionability: 20   # Concrete fix suggestions (default: 10)
  relevance: 5        # Focus on important issues (default: 10)

# Code-review specific dimensions
additional_dimensions:
  security:
    name: Security
    name_zh: 安全性
    description: Identification of security vulnerabilities and risks
    weight: 15
    levels:
      - score: 1
        name: Security Blind
        description: Ignores obvious security issues
      - score: 5
        name: Basic Security
        description: Identifies common vulnerabilities
      - score: 10
        name: Security Expert
        description: Comprehensive security analysis including edge cases

# Disqualifiers specific to code review
additional_disqualifiers:
  - id: introduces_vulnerability
    name: Introduces Vulnerability
    description: Suggested fix introduces a new security vulnerability
    action: disqualify

  - id: breaks_functionality
    name: Breaks Functionality
    description: Suggested changes would break existing functionality
    action: score_cap_5

# Keywords for auto-detecting code review tasks
detection_keywords:
  - code review
  - PR review
  - pull request
  - code audit
  - security review
  - bug fix
  - refactor
  - code quality
  - vulnerability
  - authentication
  - authorization
